<?xml version="1.0" encoding="UTF-8"?>
<!--
~ JBoss, Home of Professional Open Source
~ Copyright 2009 Red Hat Inc. and/or its affiliates and other
~ contributors as indicated by the @author tags. All rights reserved.
~ See the copyright.txt in the distribution for a full listing of
~ individual contributors.
~
~ This is free software; you can redistribute it and/or modify it
~ under the terms of the GNU Lesser General Public License as
~ published by the Free Software Foundation; either version 2.1 of
~ the License, or (at your option) any later version.
~
~ This software is distributed in the hope that it will be useful,
~ but WITHOUT ANY WARRANTY; without even the implied warranty of
~ MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU
~ Lesser General Public License for more details.
~
~ You should have received a copy of the GNU Lesser General Public
~ License along with this software; if not, write to the Free
~ Software Foundation, Inc., 51 Franklin St, Fifth Floor, Boston, MA
~ 02110-1301 USA, or see the FSF site: http://www.fsf.org.
-->
<infinispan xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
            xsi:schemaLocation="urn:infinispan:config:5.2 http://www.infinispan.org/schemas/infinispan-config-5.2.xsd"
            xmlns="urn:infinispan:config:5.2">
    
    <namedCache name="h2">
        <transaction
                transactionManagerLookupClass="org.infinispan.transaction.lookup.GenericTransactionManagerLookup"
                transactionMode="TRANSACTIONAL"
                lockingMode="OPTIMISTIC"/>
        <loaders
                passivation="false"
                shared="false"
                preload="false">                  
          <loader class="org.infinispan.loaders.jdbc.stringbased.JdbcStringBasedCacheStore" fetchPersistentState="false" ignoreModifications="false" purgeOnStartup="false">
              <properties>
                    <property name="connectionFactoryClass" value="org.infinispan.loaders.jdbc.connectionfactory.PooledConnectionFactory"/>
                    <property name="connectionUrl" value="jdbc:h2:file:target/db/h2/sample;DB_CLOSE_DELAY=-1"/>
                    <property name="userName" value="sa"/>
                    <property name="password" value=""/>
                    <property name="driverClass" value="org.h2.Driver"/>
                    <property name="stringsTableNamePrefix" value="MODE3"/>
                    <property name="idColumnName" value="ID_COLUMN"/>
                    <property name="idColumnType" value="VARCHAR(255)"/>
                    <property name="dataColumnName" value="DATA_COLUMN"/>
                    <property name="dataColumnType" value="BINARY"/>
                    <property name="timestampColumnName" value="TIMESTAMP_COLUMN"/>
                    <property name="timestampColumnType" value="BIGINT"/>
                    <property name="dropTableOnExit" value="false"/>
                    <property name="createTableOnStart" value="true"/>
                   
                </properties>            
          </loader>
            
        </loaders>
    </namedCache>
</infinispan> 