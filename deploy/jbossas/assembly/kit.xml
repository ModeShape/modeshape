<!--This script builds a kit for the ctc-client -->
<assembly xmlns="http://maven.apache.org/plugins/maven-assembly-plugin/assembly/1.1.0"
  xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
  xsi:schemaLocation="http://maven.apache.org/plugins/maven-assembly-plugin/assembly/1.1.0 http://maven.apache.org/xsd/assembly-1.1.0.xsd">

  
  <id>modeshape-dist</id>
  
  <formats>
	<format>zip</format>
  </formats>

  <includeBaseDirectory>false</includeBaseDirectory>

  <baseDirectory>/</baseDirectory>


    <fileSets>
        <fileSet>
            <directory>kit/deploy/</directory>
            <outputDirectory>deploy</outputDirectory>
        </fileSet>
    
        <fileSet>
            <directory>modeshape-jbossas-service/target/distribution/resources-modeshape-services.jar.dir</directory>
            <outputDirectory>deploy/resources-modeshape-services.jar</outputDirectory>
        </fileSet>
        
        <fileSet>
            <directory>modeshape-jbossas-web-rest-war/target/distribution/resources-modeshape-rest.war.dir</directory>
            <outputDirectory>deploy/resources-modeshape-rest.war</outputDirectory>
        </fileSet>

        <fileSet>
            <directory>modeshape-jbossas-web-webdav-war/target/distribution/resources-modeshape-webdav.war.dir</directory>
            <outputDirectory>deploy/resources-modeshape-webdav.war</outputDirectory>
        </fileSet>
    </fileSets>

     
    <moduleSets>   
        <moduleSet>
            <includeSubModules>true</includeSubModules>
                   
            <includes>
                <include>org.modeshape:modeshape-jbossas-console</include>
            </includes>
    
            <binaries>        
              <includeDependencies>false</includeDependencies>
              <unpack>false</unpack>
              <outputDirectory>deploy/admin-console.war/plugins</outputDirectory>
              <fileMode>0644</fileMode>
            </binaries>
      
        </moduleSet>        
    </moduleSets> 
  
    <dependencySets>
        <dependencySet>
          <outputDirectory>lib/</outputDirectory>
          <!-- 
            <useTransitiveDependencies>true</useTransitiveDependencies>
            -->

        <includes>
            <include>org.modeshape:modeshape-jcr-api</include>
            <include>org.modeshape:modeshape-jdbc</include>
            <include>javax.jcr:jcr</include>
        </includes>
    
        </dependencySet>
    </dependencySets>


</assembly>