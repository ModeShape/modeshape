<!--This script builds a zip for ModeShape server Installation -->
<assembly>

	<id>jbossas-7-dist</id>

	<formats>
		<format>zip</format>
	</formats>

	<includeBaseDirectory>false</includeBaseDirectory>

	<baseDirectory>/</baseDirectory>

	<fileSets>

		<fileSet>
			<directory>kit/jboss-as7</directory>
			<outputDirectory>/</outputDirectory>
			<filtered>true</filtered>
		</fileSet>

		<fileSet>
			<directory>modeshape-jbossas-subsystem/target</directory>
			<outputDirectory>modules/org/modeshape/main</outputDirectory>
			<includes>
				<include>modeshape-subsystem-${project.version}.jar</include>
			</includes>
		</fileSet>

		<!-- Sequencers -->

		<fileSet>
			<directory>../../sequencers/modeshape-sequencer-ddl/target
			</directory>
			<outputDirectory>modules/org/modeshape/sequencer/ddl/main
			</outputDirectory>
			<includes>
				<include>modeshape-sequencer-ddl-${project.version}.jar</include>
			</includes>

		</fileSet>

		<fileSet>
			<directory>../../sequencers/modeshape-sequencer-zip/target
			</directory>
			<outputDirectory>modules/org/modeshape/sequencer/zip/main
			</outputDirectory>
			<includes>
				<include>modeshape-sequencer-zip-${project.version}.jar</include>
			</includes>

		</fileSet>
		
		<fileSet>
			<directory>../../sequencers/modeshape-sequencer-wsdl/target
			</directory>
			<outputDirectory>modules/org/modeshape/sequencer/wsdl/main
			</outputDirectory>
			<includes>
				<include>modeshape-sequencer-wsdl-${project.version}.jar</include>
			</includes>

		</fileSet>
		
		<fileSet>
			<directory>../../sequencers/modeshape-sequencer-text/target
			</directory>
			<outputDirectory>modules/org/modeshape/sequencer/text/main
			</outputDirectory>
			<includes>
				<include>modeshape-sequencer-text-${project.version}.jar</include>
			</includes>

		</fileSet>
		
		<fileSet>
			<directory>../../sequencers/modeshape-sequencer-teiid/target
			</directory>
			<outputDirectory>modules/org/modeshape/sequencer/teiid/main
			</outputDirectory>
			<includes>
				<include>modeshape-sequencer-teiid-${project.version}.jar</include>
			</includes>

		</fileSet>
		
		<fileSet>
			<directory>../../sequencers/modeshape-sequencer-sramp/target
			</directory>
			<outputDirectory>modules/org/modeshape/sequencer/sramp/main
			</outputDirectory>
			<includes>
				<include>modeshape-sequencer-sramp-${project.version}.jar</include>
			</includes>

		</fileSet>
		
		<fileSet>
			<directory>../../sequencers/modeshape-sequencer-msoffice/target
			</directory>
			<outputDirectory>modules/org/modeshape/sequencer/msoffice/main
			</outputDirectory>
			<includes>
				<include>modeshape-sequencer-msoffice-${project.version}.jar</include>
			</includes>

		</fileSet>
		
		<fileSet>
			<directory>../../sequencers/modeshape-sequencer-mp3/target
			</directory>
			<outputDirectory>modules/org/modeshape/sequencer/mp3/main
			</outputDirectory>
			<includes>
				<include>modeshape-sequencer-mp3-${project.version}.jar</include>
			</includes>

		</fileSet>
		
		<fileSet>
			<directory>../../sequencers/modeshape-sequencer-java/target
			</directory>
			<outputDirectory>modules/org/modeshape/sequencer/java/main
			</outputDirectory>
			<includes>
				<include>modeshape-sequencer-java-${project.version}.jar</include>
			</includes>

		</fileSet>
		
		<fileSet>
			<directory>../../sequencers/modeshape-sequencer-images/target
			</directory>
			<outputDirectory>modules/org/modeshape/sequencer/images/main
			</outputDirectory>
			<includes>
				<include>modeshape-sequencer-images-${project.version}.jar</include>
			</includes>

		</fileSet>
		
		<fileSet>
			<directory>../../sequencers/modeshape-sequencer-xml/target
			</directory>
			<outputDirectory>modules/org/modeshape/sequencer/xml/main
			</outputDirectory>
			<includes>
				<include>modeshape-sequencer-xml-${project.version}.jar</include>
			</includes>

		</fileSet>
		
		<fileSet>
			<directory>../../sequencers/modeshape-sequencer-xsd/target
			</directory>
			<outputDirectory>modules/org/modeshape/sequencer/xsd/main
			</outputDirectory>
			<includes>
				<include>modeshape-sequencer-xsd-${project.version}.jar</include>
			</includes>

		</fileSet>
		
		

	</fileSets>

	<dependencySets>
		<dependencySet>
			<outputDirectory>modules/org/modeshape/jcr/api/main</outputDirectory>
			<includes>
				<include>org.modeshape:modeshape-jcr-api</include>
			</includes>
			<unpack>false</unpack>
		</dependencySet>

		<dependencySet>
			<outputDirectory>modules/javax/jcr/main</outputDirectory>
			<includes>
				<include>javax.jcr:jcr</include>
			</includes>
			<unpack>false</unpack>
		</dependencySet>

		<dependencySet>
			<outputDirectory>modules/org/modeshape/main</outputDirectory>
			<includes>
				<include>org.modeshape:modeshape-jcr</include>
				<include>org.modeshape:modeshape-common</include>
				<include>org.modeshape:modeshape-schematic</include>
			</includes>
			<unpack>false</unpack>
		</dependencySet>

		

	</dependencySets>

</assembly>
