<!--This script builds a zip for ModeShape server Installation -->
<assembly>

	<id>jbossas-7-dist</id>

	<formats>
		<format>zip</format>
	</formats>

	<includeBaseDirectory>false</includeBaseDirectory>

	<baseDirectory>/</baseDirectory>

	<fileSets>

		<fileSet>
			<directory>kit/jboss-as7</directory>
			<outputDirectory>/</outputDirectory>
			<filtered>true</filtered>
		</fileSet>

		<fileSet>
			<directory>modeshape-jbossas-subsystem/target</directory>
			<outputDirectory>modules/org/modeshape/main</outputDirectory>
			<includes>
				<include>modeshape-subsystem-${project.version}.jar</include>
			</includes>
		</fileSet>


	</fileSets>

	<dependencySets>
		<dependencySet>
			<outputDirectory>modules/org/modeshape/jcr/api/main</outputDirectory>
			<includes>
				<include>org.modeshape:modeshape-jcr-api</include>
			</includes>
			<unpack>false</unpack>
		</dependencySet>

		<dependencySet>
			<outputDirectory>modules/javax/jcr/main</outputDirectory>
			<includes>
				<include>javax.jcr:jcr</include>
			</includes>
			<unpack>false</unpack>
		</dependencySet>

		<dependencySet>
			<outputDirectory>modules/org/modeshape/main</outputDirectory>
			<includes>
				<include>org.modeshape:modeshape-jcr</include>
				<include>org.modeshape:modeshape-common</include>
				<include>org.modeshape:modeshape-schematic</include>
			</includes>
			<unpack>false</unpack>
		</dependencySet>

		<!-- Sequencers -->

		<dependencySet>
			<outputDirectory>modules/sequencer/ddl/main</outputDirectory>
			<includes>
				<include>org.modeshape:modeshape-sequencer-ddl</include>
			</includes>
			<unpack>false</unpack>
		</dependencySet>

		<dependencySet>
			<outputDirectory>modules/sequencer/zip/main</outputDirectory>
			<includes>
				<include>org.modeshape:modeshape-sequencer-zip</include>
			</includes>
			<unpack>false</unpack>
		</dependencySet>

		<dependencySet>
			<outputDirectory>modules/sequencer/wsdl/main</outputDirectory>
			<includes>
				<include>org.modeshape:modeshape-sequencer-wsdl</include>
			</includes>
			<unpack>false</unpack>
		</dependencySet>

		<dependencySet>
			<outputDirectory>modules/sequencer/text/main</outputDirectory>
			<includes>
				<include>org.modeshape:modeshape-sequencer-text</include>
			</includes>
			<unpack>false</unpack>
		</dependencySet>

		<dependencySet>
			<outputDirectory>modules/sequencer/teiid/main</outputDirectory>
			<includes>
				<include>org.modeshape:modeshape-sequencer-teiid</include>
			</includes>
			<unpack>false</unpack>
		</dependencySet>

		<dependencySet>
			<outputDirectory>modules/sequencer/sramp/main</outputDirectory>
			<includes>
				<include>org.modeshape:modeshape-sequencer-sramp</include>
			</includes>
			<unpack>false</unpack>
		</dependencySet>

		<dependencySet>
			<outputDirectory>modules/sequencer/msoffice/main</outputDirectory>
			<includes>
				<include>org.modeshape:modeshape-sequencer-msoffice</include>
			</includes>
			<unpack>false</unpack>
		</dependencySet>

		<dependencySet>
			<outputDirectory>modules/sequencer/mp3/main</outputDirectory>
			<includes>
				<include>org.modeshape:modeshape-sequencer-mp3</include>
			</includes>
			<unpack>false</unpack>
		</dependencySet>

		<dependencySet>
			<outputDirectory>modules/sequencer/java/main</outputDirectory>
			<includes>
				<include>org.modeshape:modeshape-sequencer-java</include>
			</includes>
			<unpack>false</unpack>
		</dependencySet>

		<dependencySet>
			<outputDirectory>modules/sequencer/images/main</outputDirectory>
			<includes>
				<include>org.modeshape:modeshape-sequencer-images</include>
			</includes>
			<unpack>false</unpack>
		</dependencySet>

		<dependencySet>
			<outputDirectory>modules/sequencer/xml/main</outputDirectory>
			<includes>
				<include>org.modeshape:modeshape-sequencer-xml</include>
			</includes>
			<unpack>false</unpack>
		</dependencySet>

		<dependencySet>
			<outputDirectory>modules/sequencer/xsd/main</outputDirectory>
			<includes>
				<include>org.modeshape:modeshape-sequencer-xsd</include>
			</includes>
			<unpack>false</unpack>
		</dependencySet>

	</dependencySets>

</assembly>
